<script>
	import FacingText3D from "$lib/components/FacingText3D.svelte";
    import SpinText from "$lib/components/SpinText.svelte";
</script>

<style type="text/css">

	@keyframes progress {
		from { width: 0px;
			background-color: red;
		}
		to { width: 200px;
			background-color: rgba(0, 200, 0, 0.3);
		}
	}

	@keyframes txt {
		from {
			color: red;
		}
		to {
			color: fuchsia;
		}
	}

	#container {
		display:  flex;
		flex-direction: column;
		border:  1px solid black;
		height:  500px;
		width:  500px;
		overflow-x:  hidden;
		overflow-y:  scroll;
		position:  relative;
		align-items:  flex-start;
		timeline-scope: --foo;
	}

	#overlay {
		position: fixed;
		top:  10px;
		left:  10px;
		width:  500px;
		height:  500px;
		pointer-events: none;
	}

	.spacer {
		display:  inline-block;
		flex:  none;
		height:  120vh;
		width:  120vw;
	}

	#subject {
		background-color:  rgba(0, 0, 255, 0.5);
		display:  inline-block;
		flex:  none;
		height: 125px;
		width:  90%;
		view-timeline-name: --foo;
	}

	.progress-bar {
		border:  1px solid green;
		height:  20px;
		width:  200px;
		position:  absolute;
		inset-inline-start:  20px;
		padding:  0;
		transition: all;
		animation: ease-in-out txt both;
		animation-timeline: --foo;
		animation-range: cover;
	}

	#progress-bar-progress-a {
		border:  1px solid green;
		height:  20px;
		width:  200px;
		position:  absolute;
		inset-inline-start:  20px;
		padding:  0;
		animation: linear progress forwards;
		animation-timeline: --foo;
		border-color:  transparent;
		background-color: rgba(0, 200, 0, 0.3);
		width: 0px;

		animation-range: cover;
	}

	#progress-bar-progress-b {
		border:  1px solid green;
		height:  20px;
		width:  200px;
		position:  absolute;
		inset-inline-start:  20px;
		padding:  0;
		animation: linear progress forwards;
		animation-timeline: --foo;
		border-color:  transparent;
		background-color: rgba(0, 200, 0, 0.3);
		width: 0px;

		animation-range: contain;
	}

	#progress-bar-progress-c {
		border:  1px solid green;
		height:  20px;
		width:  200px;
		position:  absolute;
		inset-inline-start:  20px;
		padding:  0;
		animation: linear progress forwards;
		animation-timeline: --foo;
		border-color:  transparent;
		background-color: rgba(0, 200, 0, 0.3);
		width: 0px;

		animation-range: entry;
	}

	#progress-bar-progress-d {
		border:  1px solid green;
		height:  20px;
		width:  200px;
		position:  absolute;
		inset-inline-start:  20px;
		padding:  0;
		animation: linear progress forwards;
		animation-timeline: --foo;
		border-color:  transparent;
		background-color: rgba(0, 200, 0, 0.3);
		width: 0px;

		animation-range: exit;
	}

	#progress-bar-progress-e {
		border:  1px solid green;
		height:  20px;
		width:  200px;
		position:  absolute;
		inset-inline-start:  20px;
		padding:  0;
		animation: linear progress forwards;
		animation-timeline: --foo;
		border-color:  transparent;
		background-color: rgba(0, 200, 0, 0.3);
		width: 0px;

		animation-range: contain 25% 75%;
	}

	#progress-bar-progress-f {
		border:  1px solid green;
		height:  20px;
		width:  200px;
		position:  absolute;
		inset-inline-start:  20px;
		padding:  0;
		animation: linear progress forwards;
		animation-timeline: --foo;
		border-color:  transparent;
		background-color: rgba(0, 200, 0, 0.3);
		width: 0px;

		animation-range: entry 150% exit -50%;
	}

	#progress-bar-progress-g {
		border:  1px solid green;
		height:  20px;
		width:  200px;
		position:  absolute;
		inset-inline-start:  20px;
		padding:  0;
		animation: linear progress forwards;
		animation-timeline: --foo;
		border-color:  transparent;
		background-color: rgba(0, 200, 0, 0.3);
		width: 0px;

		/* mixed shorthand and longhands */
		animation-range: entry;
		animation-delay: cover;
		animation-end-delay: contain;
	}

	#progress-bar-progress-h {
		border:  1px solid green;
		height:  20px;
		width:  200px;
		position:  absolute;
		inset-inline-start:  20px;
		padding:  0;
		animation: linear progress forwards;
		animation-timeline: --foo;
		border-color:  transparent;
		background-color: rgba(0, 200, 0, 0.3);
		width: 0px;

		/* mixed shorthand and longhands */
		animation-range: entry 100% exit 200%;
		animation-end-delay: contain;
	}

	.progress-bar > span {
		padding-left:  5px;
		padding-right:  5px;
	}
</style>

<div id="container">
	<div class="spacer"></div>
	<div id="subject"></div>
	<div class="spacer"></div>

	<div id="overlay">
		<div class="progress-bar" style="top: 20px;"><span>cover</span></div>
		<div class="progress-bar" style="top: 70px;"><span>contain</span></div>
		<div class="progress-bar" style="top: 120px;"><span>entry</span></div>
		<div class="progress-bar" style="top: 170px;"><span>exit</span></div>
		<div class="progress-bar" style="top: 220px"><span>contain 25% 75%</span></div>
		<div class="progress-bar" style="top: 270px"><span>entry 150% exit -50%</span></div>
		<div class="progress-bar" style="top: 320px"><span>* cover 0% contain 100%</span></div>
		<div class="progress-bar" style="top: 370px"><span>* entry 100% contain 100%</span></div>
		<div id="progress-bar-progress-a" class="progress-bar-progress" style="top: 20px;"></div>
		<div id="progress-bar-progress-b" class="progress-bar-progress" style="top: 70px;"></div>
		<div id="progress-bar-progress-c" class="progress-bar-progress" style="top: 120px;"></div>
		<div id="progress-bar-progress-d" class="progress-bar-progress" style="top: 170px;"></div>
		<div id="progress-bar-progress-e" class="progress-bar-progress" style="top: 220px;"></div>
		<div id="progress-bar-progress-f" class="progress-bar-progress" style="top: 270px;"></div>
		<div id="progress-bar-progress-g" class="progress-bar-progress" style="top: 320px;"></div>
		<div id="progress-bar-progress-h" class="progress-bar-progress" style="top: 370px;"></div>
	</div>
</div>

<div>* Look at CSS, there are some mixed examples that contain both shorthand and longhands</div>

<FacingText3D layers={12} gapPx={2} scalar={0.04} brightnessDrop={2} class="font-sans text-pink-500 text-7xl absolute">
					u u uwa uwa
				</FacingText3D>
<SpinText layers={12} gapPx={2} scalar={0.04} brightnessDrop={2} class="font-sans text-pink-500 text-7xl">
					u u uwa uwa
				</SpinText>